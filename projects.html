<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Projects | Soya Yasuda Portfolio</title>

  <style>
    @font-face{
      font-family: "BuenardLocal";
      src: url("/assets/Buenard-VariableFont_wght.ttf") format("truetype");
      font-display: swap;
    }

    :root{
      --navy: #001F2D;
      --cream:#FFFCED;

      --bg: var(--cream);
      --fg: var(--navy);

      --line: var(--navy);
      --line-w: 0.5px;

      --max: 1100px;
      --nav-h: 64px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: var(--bg);
      color: var(--fg);
      letter-spacing: .02em;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
    }
    a{ color:inherit; text-decoration:none; }
    img{ display:block; max-width:100%; }

    .container{
      width: min(var(--max), calc(100% - 80px));
      margin: 0 auto;
    }

    /* ================= NAV ================= */
    .nav{
      position: fixed;
      top:0; left:0; right:0;
      height: var(--nav-h);
      z-index: 50;
      display:flex;
      align-items:center;
      background: rgba(255,252,237,.75);
      backdrop-filter: blur(8px);
      border-bottom: var(--line-w) solid var(--line);
    }
    .nav .container{
      display:flex;
      gap: 22px;
      justify-content: center;
    }
    .nav a{
      font-size: 12px;
      letter-spacing: .2em;
      opacity: .9;
      padding: 10px 2px;
      text-transform: uppercase;
    }
    .nav a:hover{ opacity: 1; }

    /* ================= HERO STRIP ================= */
    .page-hero{
      margin-top: var(--nav-h);
      border-top: var(--line-w) solid var(--line);
      border-bottom: var(--line-w) solid var(--line);
      height: 110px;
      position: relative;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .page-hero::before{
      content:"";
      position:absolute; inset:0;
      background: url("/assets/writing-hero.png") center/cover no-repeat;
      opacity: 1;
    }
    .page-hero::after{
      content:"";
      position:absolute; inset:0;
      background: rgba(0,31,45,.35);
    }
    .page-hero h1{
      position: relative;
      z-index: 1;
      font-family: "BuenardLocal", serif;
      font-weight: 300;
      font-size: 44px;
      letter-spacing: .18em;
      margin: 0;
      color: var(--cream);
      text-shadow: none;
    }

    /* ================= MAIN ================= */
    main{
      padding: 64px 0 92px;
      border-bottom: var(--line-w) solid var(--line);
    }

    /* ================= PROJECTS GRID ================= */
    .projects{
      width: 100%;
    }

    .projects-grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 28px;
    }

    .project-card{
      border: var(--line-w) solid rgba(0,31,45,.55);
      background: rgba(255,255,255,.18);
      cursor: pointer;
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
      overflow:hidden;
      min-height: 320px;
      display:flex;
      flex-direction: column;
    }

    .project-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 14px 30px rgba(0,0,0,.18);
      background: rgba(255,255,255,.35);
      border-color: rgba(0,31,45,.7);
    }

    .project-thumb{
      aspect-ratio: 16 / 10;
      border-bottom: var(--line-w) solid rgba(0,31,45,.35);
      background: rgba(0,31,45,.08);
      overflow:hidden;
    }
    .project-thumb img{
      width:100%;
      height:100%;
      object-fit: cover;
    }

    .project-body{
      padding: 16px 16px 18px;
      display:flex;
      flex-direction: column;
      gap: 10px;
      flex: 1;
    }

    .project-title{
      font-family: "BuenardLocal", serif;
      font-weight: 300;
      letter-spacing: .10em;
      margin: 0;
      font-size: 18px;
      color: rgba(0,31,45,.95);
    }

    .project-meta{
      font-size: 11px;
      letter-spacing: .10em;
      color: rgba(0,31,45,.65);
      line-height: 1.6;
      text-transform: uppercase;
    }

    .project-desc{
      font-family:
        "Hiragino Mincho ProN",
        "Yu Mincho",
        "Noto Serif JP",
        serif;
      font-size: 12px;
      line-height: 1.9;
      letter-spacing: .06em;
      color: rgba(0,31,45,.88);
      margin: 0;
    }

    .project-hint{
      margin-top: auto;
      font-size: 11px;
      letter-spacing: .12em;
      color: rgba(0,31,45,.55);
      text-transform: uppercase;
    }

    /* ================= FOOTER ================= */
    footer{
      padding: 12px 0;
      background: var(--bg);
    }
    .footer-grid{
      display:grid;
      grid-template-columns:1fr 1fr 1fr;
      align-items:center;
    }
    .footer-logo img{
      height:22px;
      filter: invert(1) hue-rotate(180deg);
      opacity: .9;
    }
    .footer-nav{
      display:flex;
      justify-content:center;
      gap:20px;
      font-size:11px;
      letter-spacing:.2em;
      text-transform: uppercase;
    }
    .footer-social{
      display:flex;
      justify-content:flex-end;
      gap:14px;
    }
    .social-link{
      width:22px;
      height:22px;
      opacity:.9;
    }
    .social-link img{
      width:100%;
      height:100%;
      filter: invert(1) hue-rotate(180deg);
      opacity:.9;
    }

    /* ================= MODAL ================= */
    .modal{
      position: fixed;
      inset: 0;
      z-index: 100;
      display: none;

      /* ===== FIX: modal scroll (added) ===== */
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    .modal.is-open{ display:block; }

    .modal-backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(6px);
    }

    .modal-panel{
      position: relative;
      width: min(980px, calc(100% - 60px));
      margin: 80px auto;
      border: var(--line-w) solid rgba(0,31,45,.55);
      background: rgba(255,252,237,.96);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      padding: 26px;
      color: var(--navy);

      /* ===== FIX: keep panel within viewport (added) ===== */
      max-height: calc(100vh - 120px);
      overflow: hidden;
    }

    .modal-head{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 18px;
      padding-bottom: 14px;
      border-bottom: var(--line-w) solid rgba(0,31,45,.35);
    }

    .modal-title{
      font-family: "BuenardLocal", serif;
      font-weight: 300;
      letter-spacing: .14em;
      margin: 0;
      font-size: 26px;
    }

    .modal-close{
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: var(--line-w) solid rgba(0,31,45,.55);
      background: transparent;
      color: var(--navy);
      cursor: pointer;
      display:grid;
      place-items:center;
      transition: transform .15s ease, background .15s ease, color .15s ease;
    }
    .modal-close:hover{
      transform: translateY(-1px);
      background: var(--navy);
      color: var(--cream);
    }

    .modal-body{
      padding-top: 18px;
      display:grid;
      grid-template-columns: 1fr 280px;
      gap: 22px;
      align-items: start;

      /* ===== FIX: scrollable body (added) ===== */
      overflow-y: auto;
      max-height: calc(100vh - 120px - 72px);
      -webkit-overflow-scrolling: touch;
    }

    .modal-content{
      font-family:
        "Hiragino Mincho ProN",
        "Yu Mincho",
        "Noto Serif JP",
        serif;
      line-height: 2.0;
      letter-spacing: .06em;
      font-size: 14px;
      color: rgba(0,31,45,.92);
      white-space: pre-wrap;
    }

    .modal-meta{
      border-left: var(--line-w) solid rgba(0,31,45,.22);
      padding-left: 16px;
      font-size: 12px;
      letter-spacing: .08em;
      color: rgba(0,31,45,.7);
      line-height: 1.9;
    }
    .modal-meta b{ color: rgba(0,31,45,.95); font-weight: 700; }

    .modal-figure{
      margin: 0 0 14px;
      border: var(--line-w) solid rgba(0,31,45,.25);
      background: rgba(255,255,255,.35);
      overflow:hidden;
    }
    .modal-figure img{
      width: 100%;
      height: auto;
      display: block;
    }

    @media(max-width:980px){
      .container{ width: calc(100% - 40px); }
      .page-hero h1{ font-size: 38px; }
      .projects-grid{ grid-template-columns: repeat(2, 1fr); }
      .modal-body{ grid-template-columns: 1fr; }
      .modal-meta{
        border-left: none;
        border-top: var(--line-w) solid rgba(0,31,45,.22);
        padding-left: 0;
        padding-top: 14px;
      }
    }
    @media(max-width:700px){
      .container{ width: calc(100% - 28px); }
      .projects-grid{ grid-template-columns: 1fr; }

      /* ===== optional improvement for small screens (added) ===== */
      .modal-panel{
        margin: 22px auto;
        max-height: calc(100vh - 44px);
      }
      .modal-body{
        max-height: calc(100vh - 44px - 72px);
      }
    }
  </style>
</head>

<body>

<nav class="nav">
  <div class="container">
    <a href="./index.html#home">HOME</a>
    <a href="./profile.html">PROFILE</a>
    <a href="./work.html">WORK</a>
    <a href="./projects.html">PROJECTS</a>
    <a href="./contact.html#contact">CONTACT</a>
  </div>
</nav>

<header class="page-hero">
  <h1>Projects</h1>
</header>

<main>
  <div class="container">
    <section class="projects" aria-label="Projects list">
      <div class="projects-grid" id="projectsGrid"></div>
    </section>
  </div>
</main>

<footer>
  <div class="container footer-grid">
    <div class="footer-logo">
      <img src="/assets/logo.png" alt="">
    </div>
    <div class="footer-nav">
      <a href="./index.html#home">HOME</a>
      <a href="./profile.html">PROFILE</a>
      <a href="./work.html">WORK</a>
      <a href="./projects.html">PROJECTS</a>
      <a href="./index.html#contact">CONTACT</a>
    </div>
    <div class="footer-social">
      <a class="social-link" href="#" aria-label="Instagram"><img src="/assets/instagram.svg" alt=""></a>
      <a class="social-link" href="#" aria-label="X"><img src="/assets/x.svg" alt=""></a>
    </div>
  </div>
</footer>

<!-- MODAL -->
<div class="modal" id="modal" aria-hidden="true">
  <div class="modal-backdrop" id="modalBackdrop"></div>
  <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-head">
      <h2 class="modal-title" id="modalTitle">Projects</h2>
      <button class="modal-close" id="modalClose" aria-label="Close">
        <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
          <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <div class="modal-body">
      <div class="modal-content" id="modalContent"></div>
      <div class="modal-meta" id="modalMeta"></div>
    </div>
  </div>
</div>

<script>
  // 画像は /assets/project1.png 〜 /assets/project6.png を用意してください
  const projects = [
    {
      title: "小松島海岸アートプロジェクト",
      role: "Participant / Exhibition",
      image: "/assets/project1.JPG",
      summary:
        "地域活性化を目的としたアートプロジェクトに参加。参加者と協働しながら作品制作・展示を行い、公共空間を活かした表現を通して地域と人をつなぐ場づくりに取り組んだ。",
      details:
        "単なる作品制作にとどまらず、展示の見え方や導線設計を含めた空間全体の体験設計を意識。地域の風景や文脈と調和する表現を検討しながら、来場者が自然と足を止めたくなる構成を追求した。制作プロセスを通して、協働による創造と場の持つ力を体感したプロジェクト。"
    },
    {
      title: "第一回 高専起業家サミット（本戦）",
      role: "Poster Design",
      image: "/assets/project2.jpeg",
      summary:
        "本戦出場にあたりポスターデザインを担当。大会コンセプトを視覚的に整理し、情報設計とビジュアルの両面からイベントの世界観構築に貢献した。",
      details:
        "限られたスペースの中で情報の優先順位を整理し、視線誘導と可読性を重視したレイアウトを設計。単なる装飾ではなく、アイデアの思想や温度感が伝わるビジュアルを目指した。紙媒体としての訴求力とブランドの統一感を両立させる設計を行った。"
    },
    {
      title: "FRC Team Hanabi",
      role: "Sales / Product Design",
      image: "/assets/project3.png",
      summary:
        "日本で唯一の学校公認FRCチーム「Hanabi」にて営業・プロダクトデザインを担当。31社の企業協賛とクラウドファンディングにより総額2,200万円を調達。自身のデザインがピンバッジとして採用・商品化された。",
      details:
        "企業協賛獲得に向けた提案資料の設計やコミュニケーションを担当し、チームの活動意義と価値を言語化。並行してプロダクトデザインにも携わり、支援したくなる象徴性と実用性を兼ね備えたグッズを設計した。営業とデザインを横断しながら、組織のブランド価値を高めたプロジェクト。"
    },
    {
      title: "2024 まるごと祭 花火企画",
      role: "Core Member / Operation",
      image: "/assets/project4.png",
      summary:
        "高専祭での打ち上げ花火を企画立案。コアメンバーとして組織運営、煙火商会との連携、クラウドファンディングを実施し580,500円を達成。リターン商品券のデザインも担当した。",
      details:
        "安全管理・許認可・進行管理など多面的な要素を整理し、実行可能な計画へ落とし込んだ。クラウドファンディングではリターン設計とビジュアル制作を担当し、支援の動機を生む設計を構築。企画から実行までを一貫して推進し、地域に新たな象徴的体験を生み出した。"
    },
    {
      title: "2025 まるごと祭 実行委員",
      role: "Core Member / Audience Management Lead",
      image: "/assets/project5.png",
      summary:
        "2025年度まるごと祭の実行委員として、集客来場管理リーダーを担当。集客戦略の設計、東京にある徳島のアンテナショップとの連携、SNS運用を推進し、人口約5,000人の神山町に2,500人の来場者を呼び込むことに成功。",
      details:
        "来場目標から逆算してターゲット層を整理し、オンライン（SNS）とオフライン（アンテナショップ連携）を組み合わせた集客施策を実施。情報発信のトーンを統一し、継続的な露出を設計。来場前から当日の導線までを想定した情報設計を行い、地域規模に対して高い来場率を実現した。"
    },
    {
      title: "2025 まるごと祭 花火企画",
      role: "Core Member / Scale-up",
      image: "/assets/project6.png",
      summary:
        "前年度と同体制で再挑戦し、役割も大きく変えずに規模拡大に成功。組織運営と煙火商会との連携を継続しながら、クラウドファンディングで前年を大きく上回る1,209,000円を達成した。",
      details:
        "前年の運営データと反省点を分析し、改善点を具体的な施策に反映。支援導線の明確化、発信タイミングの最適化、リターン設計の再構築を行い、継続的に支持される企画へと発展させた。単発の成功ではなく、再現性のある運営体制を構築した点が特徴。"
    },
    {
      title: "第三回 高専起業家サミット（本戦）",
      role: "Poster Design / Web UI Design",
      image: "/assets/project7.png",
      summary:
        "本戦出場。ポスターデザインおよびWebのUIデザインを担当し、情報構造と視認性を重視した設計で発信品質を高めた。",
      details:
        "紙媒体とWeb媒体の特性差を踏まえ、情報の階層設計とトーンを最適化。ユーザーの閲覧導線を意識したUI設計を行い、アイデアの世界観と一貫性を保ったビジュアル体験を構築した。視覚表現を通して、企画内容の理解と共感を促進した。"
    }
  ];

  const grid = document.getElementById("projectsGrid");

  // ====== MODAL ======
  const modal = document.getElementById("modal");
  const modalBackdrop = document.getElementById("modalBackdrop");
  const modalClose = document.getElementById("modalClose");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");
  const modalMeta = document.getElementById("modalMeta");

  function escapeHtml(str){
    return String(str)
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  function openModal(id){
    const p = projects[id];
    if(!p) return;

    modalTitle.textContent = p.title;

    modalContent.innerHTML = `
      <figure class="modal-figure">
        <img src="${escapeHtml(p.image)}" alt="">
      </figure>
      <div>${escapeHtml(p.summary || "")}</div>
      ${p.details ? `<div style="margin-top:12px;">${escapeHtml(p.details)}</div>` : ""}
    `;

    modalMeta.innerHTML = `
      <div><b>Date</b>：${escapeHtml(p.date || "-")}</div>
      <div><b>Role</b>：${escapeHtml(p.role || "-")}</div>
    `;

    modal.classList.add("is-open");
    modal.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    modal.classList.remove("is-open");
    modal.setAttribute("aria-hidden", "true");
    document.body.style.overflow = "";
  }

  function buildGrid(){
    grid.innerHTML = "";
    projects.forEach((p, i) => {
      const card = document.createElement("article");
      card.className = "project-card";
      card.setAttribute("role", "button");
      card.setAttribute("aria-label", p.title);
      card.tabIndex = 0;

      card.innerHTML = `
        <div class="project-thumb">
          <img src="${escapeHtml(p.image)}" alt="">
        </div>
        <div class="project-body">
          <h3 class="project-title">${escapeHtml(p.title)}</h3>
          <div class="project-meta">${escapeHtml(p.date || "")} / ${escapeHtml(p.role || "")}</div>
          <p class="project-desc">${escapeHtml(p.summary || "")}</p>
          <div class="project-hint">View details</div>
        </div>
      `;

      card.addEventListener("click", () => openModal(i));
      card.addEventListener("keydown", (e) => {
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          openModal(i);
        }
      });

      grid.appendChild(card);
    });
  }

  modalBackdrop.addEventListener("click", closeModal);
  modalClose.addEventListener("click", closeModal);
  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeModal();
  });

  buildGrid();
</script>

</body>
</html>
