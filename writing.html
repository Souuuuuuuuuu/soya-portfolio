<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Writing | Soya Yasuda Portfolio</title>

  <style>
    @font-face{
      font-family: "BuenardLocal";
      src: url("/assets/Buenard-VariableFont_wght.ttf") format("truetype");
      font-display: swap;
    }

    :root{
      /* Writingだけ反転（普段の紺⇄クリーム） */
      --navy: #001F2D;
      --cream:#FFFCED;

      --bg: var(--cream);
      --fg: var(--navy);

      --line: var(--navy);
      --line-w: 0.5px;

      --max: 1100px;
      --nav-h: 64px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: var(--bg);
      color: var(--fg);
      letter-spacing: .02em;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
    }
    a{ color:inherit; text-decoration:none; }
    img{ display:block; max-width:100%; }

    .container{
      width: min(var(--max), calc(100% - 80px));
      margin: 0 auto;
    }

    /* ================= NAV ================= */
    .nav{
      position: fixed;
      top:0; left:0; right:0;
      height: var(--nav-h);
      z-index: 50;
      display:flex;
      align-items:center;
      background: rgba(255,252,237,.75);
      backdrop-filter: blur(8px);
      border-bottom: var(--line-w) solid var(--line);
    }
    .nav .container{
      display:flex;
      gap: 22px;
      justify-content: center;
    }
    .nav a{
      font-size: 12px;
      letter-spacing: .2em;
      opacity: .9;
      padding: 10px 2px;
      text-transform: uppercase;
    }
    .nav a:hover{ opacity: 1; }

    /* ================= HERO STRIP (1: 帯を作品化) ================= */
    .page-hero{
      margin-top: var(--nav-h);
      border-top: var(--line-w) solid var(--line);
      border-bottom: var(--line-w) solid var(--line);
      height: 110px;
      position: relative;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .page-hero::before{
      content:"";
      position:absolute; inset:0;
      background: url("/assets/writing-hero.png") center/cover no-repeat;
      opacity: 1;
    }
    /* ここが “締まる” キモ：薄い紺を被せてコントラストを作る */
    .page-hero::after{
      content:"";
      position:absolute; inset:0;
      background: rgba(0,31,45,.35);
    }
    .page-hero h1{
      position: relative;
      z-index: 1;
      font-family: "BuenardLocal", serif;
      font-weight: 300;
      font-size: 44px;
      letter-spacing: .18em;
      margin: 0;
      color: var(--cream);
      text-shadow: none;
    }

    /* ================= MAIN ================= */
    main{
      padding: 64px 0 92px;
      border-bottom: var(--line-w) solid var(--line);
    }

    .stage{
      position: relative;
      min-height: calc(100vh - (var(--nav-h) + 110px + 92px));
      display:flex;
      align-items:flex-start;
      justify-content:center;
    }

    .tags{
      width: 100%;
      display:flex;
      justify-content: center;
      gap: 72px;
      padding: 26px 0 0;
      flex-wrap: nowrap;
    }

    .tag{
      position: relative;
      width: 54px;
      padding-top: 18px; /* ピンの分 */
      cursor: pointer;
      user-select:none;

      /* (2) 触れたくなる気配：ホバー演出 */
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
    }

    /* ▼修正：ホバーは「短冊(tag-plate)」だけに効かせるため、tag本体のホバー効果を無効化 */
    .tag:hover{
      transform: none;
      box-shadow: none;
      background: transparent;
      border-color: transparent;
    }

    /* ピンの点 */
    .tag-pin{
      position:absolute;
      top: 2px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--fg);
      transition: transform .18s ease;
    }
    .tag:hover .tag-pin{
      transform: translateX(-50%) translateY(-2px);
    }

    /* 短冊本体 */
    .tag-plate{
      width: 100%;
      border: var(--line-w) solid rgba(0,31,45,.55);
      background: rgba(255,255,255,.18);
      display:flex;
      justify-content:center;
      align-items:center;
      padding: 18px 0;
      min-height: 150px;

      /* ▼修正：ホバー対象を短冊だけに */
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
    }

    /* ▼修正：短冊のみホバー */
    .tag:hover .tag-plate{
      transform: translateY(-6px);
      box-shadow: 0 14px 30px rgba(0,0,0,.18);
      background: rgba(255,255,255,.35);
      border-color: rgba(0,31,45,.7);
    }

    .tag-text{
      writing-mode: vertical-rl;
      text-orientation: upright;
      font-family:
        "Hiragino Mincho ProN",
        "Yu Mincho",
        "Noto Serif JP",
        serif;
      letter-spacing: .18em;
      font-size: 15px;
      line-height: 1.9;
      color: rgba(0,31,45,.9);
    }

    /* ▼修正：この “tag自体” を動かす指定を無効化（短冊だけ動くように） */
    .tag:nth-child(2):hover,
    .tag:nth-child(3):hover,
    .tag:nth-child(4):hover,
    .tag:nth-child(6):hover,
    .tag:nth-child(8):hover{ transform: none; }

    /* ================= FOOTER ================= */
    footer{
      /* ▼修正：下のバーを少し上に（footer自体を上に寄せる） */
      padding: 12px 0;

      background: var(--bg);
    }
    .footer-grid{
      display:grid;
      grid-template-columns:1fr 1fr 1fr;
      align-items:center;
    }
    .footer-logo img{
      height:22px;
      filter: invert(1) hue-rotate(180deg); /* ロゴが暗い想定の簡易対策（不要なら削除OK） */
      opacity: .9;
    }
    .footer-nav{
      display:flex;
      justify-content:center;
      gap:20px;
      font-size:11px;
      letter-spacing:.2em;
      text-transform: uppercase;
    }
    .footer-social{
      display:flex;
      justify-content:flex-end;
      gap:14px;
    }
    .social-link{
      width:22px;
      height:22px;
      opacity:.9;
    }
    .social-link img{
      width:100%;
      height:100%;
      filter: invert(1) hue-rotate(180deg);
      opacity:.9;
    }

    /* ================= MODAL ================= */
    .modal{
      position: fixed;
      inset: 0;
      z-index: 100;
      display: none;
    }
    .modal.is-open{ display:block; }

    .modal-backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(6px);
    }

    .modal-panel{
      position: relative;
      width: min(980px, calc(100% - 60px));
      margin: 80px auto;
      border: var(--line-w) solid rgba(0,31,45,.55);
      background: rgba(255,252,237,.96);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      padding: 26px;
      color: var(--navy);
    }

    .modal-head{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 18px;
      padding-bottom: 14px;
      border-bottom: var(--line-w) solid rgba(0,31,45,.35);
    }

    .modal-title{
      font-family: "BuenardLocal", serif;
      font-weight: 300;
      letter-spacing: .14em;
      margin: 0;
      font-size: 26px;
    }

    .modal-close{
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: var(--line-w) solid rgba(0,31,45,.55);
      background: transparent;
      color: var(--navy);
      cursor: pointer;
      display:grid;
      place-items:center;
      transition: transform .15s ease, background .15s ease, color .15s ease;
    }
    .modal-close:hover{
      transform: translateY(-1px);
      background: var(--navy);
      color: var(--cream);
    }

    .modal-body{
      padding-top: 18px;
      display:grid;
      grid-template-columns: 1fr 280px;
      gap: 22px;
      align-items: start;
    }

    .modal-content{
      font-family:
        "Hiragino Mincho ProN",
        "Yu Mincho",
        "Noto Serif JP",
        serif;
      line-height: 2.0;
      letter-spacing: .06em;
      font-size: 14px;
      color: rgba(0,31,45,.92);
      white-space: pre-wrap;
    }

    .modal-meta{
      border-left: var(--line-w) solid rgba(0,31,45,.22);
      padding-left: 16px;
      font-size: 12px;
      letter-spacing: .08em;
      color: rgba(0,31,45,.7);
      line-height: 1.9;
    }
    .modal-meta b{ color: rgba(0,31,45,.95); font-weight: 700; }

    @media(max-width:980px){
      .container{ width: calc(100% - 40px); }
      .page-hero h1{ font-size: 38px; }
      .tags{ gap: 48px; }
      .modal-body{ grid-template-columns: 1fr; }
      .modal-meta{ border-left: none; border-top: var(--line-w) solid rgba(0,31,45,.22); padding-left: 0; padding-top: 14px; }
    }
    @media(max-width:700px){
      .container{ width: calc(100% - 28px); }
      .tags{ gap: 22px; overflow-x:auto; justify-content:flex-start; padding-bottom: 12px; }
      .tags::-webkit-scrollbar{ display:none; }
      .tag{ flex: 0 0 auto; }
    }
  </style>
</head>

<body>

<nav class="nav">
  <div class="container">
    <a href="./index.html#home">HOME</a>
    <a href="./profile.html">PROFILE</a>
    <a href="./work.html">WORK</a>
    <a href="./writing.html">WRITING</a>
    <a href="./contact.html#contact">CONTACT</a>
  </div>
</nav>

<header class="page-hero">
  <h1>Writing</h1>
</header>

<main>
  <div class="container">
    <div class="stage">
      <div class="tags" id="tags">
        <!-- 短冊（クリックでモーダル） -->
        <div class="tag" data-id="0" role="button" aria-label="冬">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">冬</div></div>
        </div>

        <div class="tag" data-id="1" role="button" aria-label="秋">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">秋</div></div>
        </div>

        <div class="tag" data-id="2" role="button" aria-label="シャッターを切る事">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">シャッターを切る事</div></div>
        </div>

        <div class="tag" data-id="3" role="button" aria-label="夏">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">夏</div></div>
        </div>

        <div class="tag" data-id="4" role="button" aria-label="言葉">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">言葉</div></div>
        </div>

        <div class="tag" data-id="5" role="button" aria-label="朝焼け">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">朝焼け</div></div>
        </div>

        <div class="tag" data-id="6" role="button" aria-label="宵夢">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">宵夢</div></div>
        </div>

        <div class="tag" data-id="7" role="button" aria-label="春">
          <div class="tag-pin"></div>
          <div class="tag-plate"><div class="tag-text">春</div></div>
        </div>
      </div>
    </div>
  </div>
</main>

<footer>
  <div class="container footer-grid">
    <div class="footer-logo">
      <img src="/assets/logo.png" alt="">
    </div>
    <div class="footer-nav">
      <a href="./index.html#home">HOME</a>
      <a href="./profile.html">PROFILE</a>
      <a href="./work.html">WORK</a>
      <a href="./writing.html">WRITING</a>
      <a href="./index.html#contact">CONTACT</a>
    </div>
    <div class="footer-social">
      <a class="social-link" href="#" aria-label="Instagram"><img src="/assets/instagram.svg" alt=""></a>
      <a class="social-link" href="#" aria-label="X"><img src="/assets/x.svg" alt=""></a>
    </div>
  </div>
</footer>

<!-- MODAL -->
<div class="modal" id="modal" aria-hidden="true">
  <div class="modal-backdrop" id="modalBackdrop"></div>
  <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-head">
      <h2 class="modal-title" id="modalTitle">Writing</h2>
      <button class="modal-close" id="modalClose" aria-label="Close">
        <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
          <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <div class="modal-body">
      <div class="modal-content" id="modalContent"></div>
      <div class="modal-meta" id="modalMeta"></div>
    </div>
  </div>
</div>

<script>
  // ====== 記事データ======
  const writings = [
    { title: "冬", date: "2026/01/01", mood: "Winter", text: "もういいよ。" },
    { title: "秋", date: "2025/11/01", mood: "Autumn", text: "存在。" },
    { title: "シャッターを切る事", date: "2025/10/01", mood: "Photo", text: "シャッターを切るってかなりの愛情表現だよね。" },
    { title: "夏", date: "2025/08/01", mood: "Summer", text: "暑さが恋しいとさえ思う。" },
    { title: "言葉", date: "2025/07/01", mood: "Words", text: "言葉を選ぶことが愛なら、言葉を選ばない。" },
    { title: "朝焼け", date: "2025/06/01", mood: "Morning", text: "まだだね。" },
    { title: "宵夢", date: "2025/05/01", mood: "Night", text: "夢。" },
    { title: "春", date: "2025/04/01", mood: "Spring", text: "まだ慣れない。" }
  ];

  const tags = Array.from(document.querySelectorAll(".tag"));

  // ====== MODAL ======
  const modal = document.getElementById("modal");
  const modalBackdrop = document.getElementById("modalBackdrop");
  const modalClose = document.getElementById("modalClose");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");
  const modalMeta = document.getElementById("modalMeta");

  function openModal(id){
    const w = writings[id];
    if(!w) return;

    modalTitle.textContent = w.title;
    modalContent.textContent = w.text;

    modalMeta.innerHTML = `
      <div><b>Date</b>：${w.date || "-"}</div>
      <div><b>Mood</b>：${w.mood || "-"}</div>
    `;

    modal.classList.add("is-open");
    modal.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    modal.classList.remove("is-open");
    modal.setAttribute("aria-hidden", "true");
    document.body.style.overflow = "";
  }

  tags.forEach((tag) => {
    tag.addEventListener("click", () => {
      const id = Number(tag.dataset.id);
      openModal(id);
    });

    // キーボード操作
    tag.tabIndex = 0;
    tag.addEventListener("keydown", (e) => {
      if(e.key === "Enter" || e.key === " "){
        e.preventDefault();
        const id = Number(tag.dataset.id);
        openModal(id);
      }
    });
  });

  modalBackdrop.addEventListener("click", closeModal);
  modalClose.addEventListener("click", closeModal);
  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeModal();
  });
</script>

</body>
</html>
